import { HorizontalBox, Button, VerticalBox, Slider } from "std-widgets.slint";

export global Settings {
    in property <int> frame;
    in property <float> state_radius: 5.0;
}

export component Application inherits Window {
    title: @tr("LTSGraph");
    icon: @image-url("../data/mcrl2-blue.svg");

    preferred-width: 900px;
    preferred-height: 600px;

    pure callback render_simulation(length, length, int) -> image;

    callback open_filedialog;

    HorizontalBox {
        Image {
            source: render_simulation(parent.width, parent.height, Settings.frame);
        }

        VerticalBox { 
            width: 100px;

            Button {
                text: "Load LTS";
                clicked => { open_filedialog(); }
            }
            
            Text {
                text: "State radius:";
            }

            Slider {
                width: parent.width;
                value: 5.0;
                minimum: 5.0;
                maximum: 25.0;
                changed => { 
                    Settings.state_radius = self.value; 
                }
            }
        }
    }

}